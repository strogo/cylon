<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta content="A Cylon.JS code example" name="description">
<meta content="The Hybrid Group" name="author">
<title>Cylon.JS Example - Motor</title>
<link href="/stylesheets/style.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="/javascripts/script.js"></script><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700%7CMontserrat:700" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script type="text/javascript">

  var _gaq = _gaq || [];

  _gaq.push(['_setAccount', "UA-46433484-2"]);







  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script></head>
<body>
    
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="app-logo">
              <a href="/">Cylon</a>
            </h1>
            <span class="subtitle">
              <div class="main"></div>
            </span>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a href="/hardware" class="item">Hardware</a>
            
            <a href="/blog" class="item">Blog</a>
            <a class="item" target="blanck" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">Example: Motor</h1>
          <h2 class="subtitle">You can find more versions of this example <a href="https://github.com/hybridgroup/cylon/tree/master/examples/motor" target="blank" class="repository">here.</a>
</h2>
        </div>
      </div>
      <div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <h1 id="motor">Motor</h1>
              
              <p>For this example, similar in structure to the led_brightness example, we're
              going to take an Arduino, and modify the speed of an attached motor such that it
              continually speeds up and slows down.</p>
              
              <p>Before we get started, make sure to have the <code>cylon-arduino</code> module installed.</p>
              
              <p>First, let's require Cylon:</p>
              
              <pre class="CodeRay">Cylon = require 'cylon'
</pre>
              
              <p>Now we can start defining our robot:</p>
              
              <pre class="CodeRay">Cylon.robot
</pre>
              
              <p>We'll be connecting to an Ardunio, using the Firmata protocol, and a motor
              attached to the Arduino on pin 3.</p>
              
              <pre class="CodeRay">  connection: { name: 'arduino', adaptor: 'firmata', port: '/dev/ttyACM0' }
  device: { name: 'motor', driver: 'motor', pin: 3 }
</pre>
              
              <p>We'll start defining the work for our robot next:</p>
              
              <pre class="CodeRay">  work: (my) -&gt;
</pre>
              
              <p>We'll define variables to hold our motor's speed, and the rate at which that
              speed will change:</p>
              
              <pre class="CodeRay">    speed = 0
    increment = 5
</pre>
              
              <p>Every fifty milliseconds, we'll increment the <code>speed</code>, set the motor to run at
              that speed, and log the speed we're running at to the console. We'll also make
              sure to change the increment if the speed is at the upper/lower bounds of the
              values supported:</p>
              
              <pre class="CodeRay">    every 0.05.seconds(), -&gt;
      speed += increment
      my.motor.speed(speed)
      console.log "Current Speed: #{my.motor.currentSpeed() }"
      increment = -increment if (speed is 0) or (speed is 255)
</pre>
              
              <p>And with all that done, we can now start our robot:</p>
              
              <pre class="CodeRay">.start()
</pre>
            </div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          Â© Copyright 2012-2014
          <a href="http://hybridgroup.com">The Hybrid Group.</a>
        </div>
      </div>
    </footer>
</body>
</html>
